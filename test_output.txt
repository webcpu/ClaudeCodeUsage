Building for debugging...
[0/8] Write swift-version-221B0D4E71737015.txt
Build complete! (0.11s)
[1/56] Testing UsageDashboardAppTests.ImprovedDayChangeTests/testRecoveryAfterError
[2/56] Testing UsageDashboardAppTests.ImprovedDayChangeTests/testParallelDataLoading
[3/56] Testing UsageDashboardAppTests.ImprovedDayChangeTests/testErrorStateAfterLoadFailure
[4/56] Testing UsageDashboardAppTests.ImprovedDayChangeTests/testClockAdvanceToAlmostMidnight
[5/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testClearCache
[6/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testClearCachePerformance
[7/56] Testing UsageDashboardAppTests.ImprovedDayChangeTests/testTimeUntilMidnightCalculation
[8/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testActorBasedSessionMonitorService
[9/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testDebugFeatureFlags
[10/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testFeatureFlagPercentageRollout
[11/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testConcurrentAccess
[12/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testDataRaceFreeSafety
[13/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testFeatureFlagPersistence
[14/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testGetActiveBlockPerformance
[15/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testGetAutoTokenLimitWithNoData
[16/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testHybridSessionMonitorServiceWithActorFlag
[17/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testHybridSessionMonitorServiceWithGCDFlag
[18/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testInitialization
[19/56] Testing UsageDashboardAppTests.LiveMonitorPerformanceComparisonTests/testConcurrentPerformanceComparison
[20/56] Testing UsageDashboardAppTests.LiveMonitorActorTests/testSessionBlockCreation
[21/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testHashBasedDeduplicationPreventsduplicates
[22/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testFilterServiceFiltersDateRange
[23/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testDeduplicationReset
[24/56] Testing UsageDashboardAppTests.LiveMonitorPerformanceComparisonTests/testPerformanceComparison
[25/56] Testing UsageDashboardAppTests.ImprovedAsyncDayChangeTests/testConcurrentDayChangeHandling
[26/56] Testing UsageDashboardAppTests.ImprovedDayChangeTests/testAutoRefreshContinuesAfterDayChange
[27/56] Testing UsageDashboardAppTests.ImprovedAsyncDayChangeTests/testDayChangeWithAsyncStream
[28/56] Testing UsageDashboardAppTests.ImprovedAsyncDayChangeTests/testDayChangeResetsTodaysCostAsync
[29/56] Testing UsageDashboardAppTests.HourlyCostChartTests/testHourlyChartDataEmptyCost
[30/56] Testing UsageDashboardAppTests.HourlyCostChartTests/testHourlyChartDataCreation
[31/56] Testing UsageDashboardAppTests.HourlyCostChartTests/testDetailedHourlyCostsExtraction
[32/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testNoDeduplicationAllowsAll
[33/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testMockFileSystemThrowsForMissingFiles
[34/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testStatisticsAggregatorGroupsByModel
[35/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testStatisticsAggregatorCalculatesTotals
[36/56] Testing UsageDashboardAppTests.UsageViewModelTests/testTodaysCostComputationDirectPerformance
[37/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testSortingServiceSortsProjects
[38/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testParserExtractsIdentifiers
[39/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testProjectPathDecoderHandlesLeadingDash
[40/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testProjectPathDecoderHandlesNoLeadingDash
[41/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testRepositoryWithMockComponents
[42/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testParserSkipsEntriesWithoutTokens
[43/56] Testing UsageDashboardAppTests.UsageViewModelTests/testTodaysCostWithEmptyStats
[44/56] Testing UsageDashboardAppTests.UsageViewModelTests/testTodaysCostWithNoData
[45/56] Testing UsageDashboardAppTests.UsageViewModelTests/testTodaysCostWithMultipleTodayEntries
[46/56] Testing UsageDashboardAppTests.UsageViewModelTests/testTodaysCostWithTodayData
[47/56] Testing UsageDashboardAppTests.UsageViewModelTests/testTodaysCostWithoutTodayData
[48/56] Testing UsageDashboardAppTests.UsageViewModelTests/testTodaysCostComputationPerformance
[49/56] Testing UsageDashboardAppTests.UsageViewModelTests/testTodaysCostProgressCalculation
[50/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testJSONLParserExtractsUsageData
[51/56] Testing ClaudeCodeUsageTests.SOLIDRefactoringTests/testMockFileSystemReturnsCorrectFiles
[52/56] Testing UsageDashboardAppTests.DayChangeTests/testAutoRefreshStartsDayChangeMonitoring
[53/56] Testing UsageDashboardAppTests.DayChangeTests/testCalculateSecondsUntilMidnight
[54/56] Testing UsageDashboardAppTests.DayChangeTests/testLastKnownDayInitializedCorrectly
[55/56] Testing UsageDashboardAppTests.DayChangeTests/testTodaysCostResetsOnDayChange
[56/56] Testing UsageDashboardAppTests.HourlyCostChartTests/testChartDataServiceIntegration
􀟈  Test run started.
􀄵  Testing Library Version: 6.1.2 (d6b70f9ef9eb207)
􀄵  Target Platform: arm64-apple-macosx
􀟈  Suite "Heatmap performance requirements" started.
􀟈  Suite "UsageRepositoryError Tests" started.
􀟈  Suite "AsyncUsageRepository Performance Extension" started.
􀟈  Suite "PerformanceMetrics Tests" started.
􀟈  Suite "As a user, I want to see my hourly costs so I can understand my usage patterns" started.
􀟈  Suite "As a user, I want to see details when hovering over a bar" started.
􀟈  Test "Should fail after max retry attempts" started.
􀟈  Suite "AsyncFileSystemProtocol Tests" started.
􀟈  Test "Should abort on error with abort strategy" started.
􀟈  Suite "UsageViewModel Tests" started.
􀟈  Test "Should fail task after max retries" started.
􀟈  Test "Should create error context correctly" started.
􀟈  Suite "AsyncCircuitBreakerFileSystem Tests" started.
􀟈  Test "Should provide descriptive error messages" started.
􀟈  Test "Should track repository performance metrics" started.
􀟈  Test "Should execute skip strategy" started.
􀟈  Test "Should handle 365 days efficiently" started.
􀟈  Suite "As a user, I want to see my yearly usage pattern as a heatmap" started.
􀟈  Test "Should generate error summary" started.
􀟈  Test "Should limit stored metrics per operation" started.
􀟈  Test "Should create enhanced error with context" started.
􀟈  Test "Should identify recoverable errors" started.
􀟈  Test "Should provide recovery suggestions" started.
􀟈  Test "Should retry task with exponential backoff" started.
􀟈  Test "Should limit aggregated errors" started.
􀟈  Test "Should format durations correctly" started.
􀟈  Test "Should aggregate errors" started.
􀟈  Test "Should suggest retry delays" started.
􀟈  Test "Should clear metrics" started.
􀟈  Test "Should handle concurrent access safely" started.
􀟈  Suite "AsyncUsageRepository Tests" started.
􀟈  Test "Should track metadata correctly" started.
􀟈  Test "Should clear aggregated errors" started.
􀟈  Test "Should execute fallback strategy" started.
􀟈  Test "Should generate performance report" started.
􀟈  Test "Should handle midnight boundary correctly" started.
􀟈  Test "Should show 24 bars for each hour of the day" started.
􀟈  Test "Should record async operation metrics" started.
􀟈  Test "Should handle disabled metrics" started.
􀟈  Test "Should process large datasets efficiently" started.
􀟈  Test "Should execute retry strategy" started.
􀟈  Test "Should identify peak usage hour" started.
􀟈  Test "Should handle repository errors" started.
􀟈  Test "Should only include entries from the specified date" started.
􀟈  Test "Should show hour range in tooltip" started.
􀟈  Test "Should calculate statistics correctly" started.
􀟈  Test "Should record sync operation metrics" started.
􀟈  Test "Should separate costs by hour boundaries" started.
􀟈  Test "Should handle very large costs" started.
􀟈  Test "Should handle hover interactions smoothly" started.
􀟈  Test "Should handle empty repository gracefully" started.
􀟈  Test "Should show zero cost for hours with no usage" started.
􀟈  Test "Should format midnight correctly" started.
􀟈  Test "AsyncFileSystem should list directory contents" started.
􀟈  Test "Should handle zero cost" started.
􀟈  Test "AsyncFileSystemBridge should bridge file reading" started.
􀟈  Test "AsyncFileSystemBridge should propagate errors" started.
􀟈  Test "Should sum costs within the same hour" started.
􀟈  Test "Should export metrics as JSON" started.
􀟈  Test "AsyncFileSystemBridge should bridge directory listing" started.
􀟈  Test "Should handle errors in recorded operations" started.
􀟈  Test "Should format noon correctly" started.
􀟈  Test "AsyncFileSystem should throw error for invalid directory" started.
􀟈  Test "AsyncFileSystem should read file contents" started.
􀟈  Test "AsyncFileSystemBridge should bridge sync to async" started.
􀟈  Test "AsyncFileSystem should check if file exists" started.
􀟈  Test "Should close circuit after success threshold in half-open" started.
􀟈  Test "Should open circuit after failure threshold" started.
􀟈  Test "Should handle non-throwing operations" started.
􀟈  Test "Initial state should be correct" started.
􀟈  Test "Should handle directory operations through circuit breaker" started.
􀟈  Test "Should track circuit breaker state" started.
􀟈  Test "Should pass through successful operations when circuit is closed" started.
􀟈  Test "Should transition to half-open after reset timeout" started.
􀟈  Test "Should handle circuit breaker reset timeout behavior" started.
􀟈  Test "Should handle concurrent operations correctly" started.
􁁛  Test "Should create error context correctly" passed after 0.001 seconds.
􁁛  Test "Should abort on error with abort strategy" passed after 0.001 seconds.
􀟈  Test "Should mark today's date correctly" started.
􀟈  Test "Should regenerate dataset when configuration changes" started.
􀟈  Test "Should handle empty statistics gracefully" started.
􀟈  Test "Should provide accessibility labels for days" started.
􀟈  Test "Should show loading state during data generation" started.
􀟈  Test "Should update hovered day on mouse position" started.
􀟈  Test "Should calculate tooltip position above hovered day" started.
􀟈  Test "Should map costs to correct color intensities" started.
􀟈  Test "Should calculate summary statistics correctly" started.
􀟈  Test "Should generate correct month labels for rolling year" started.
􀟈  Test "Should generate 52-53 weeks of data for rolling year" started.
􀟈  Test "Should handle invalid date ranges" started.
􀟈  Test "Should clear hover state when ending hover" started.
􁁛  Test "Should execute skip strategy" passed after 0.003 seconds.
􁁛  Test "Should provide recovery suggestions" passed after 0.004 seconds.
􀟈  Test "Should handle concurrent file processing" started.
􀟈  Test "Should load entries for specific date" started.
􀟈  Test "Should return empty stats when no data exists" started.
􀟈  Test "Should stream process large datasets efficiently" started.
􀟈  Test "Should limit entries when specified" started.
􀟈  Test "Should load usage stats from async file system" started.
􀟈  Test "Should handle file system errors gracefully" started.
􀟈  Test "Should deduplicate entries correctly" started.
􁁛  Test "Should aggregate errors" passed after 0.004 seconds.
􁁛  Test "Should suggest retry delays" passed after 0.004 seconds.
􁁛  Test "Should identify recoverable errors" passed after 0.004 seconds.
􁁛  Test "Should create enhanced error with context" passed after 0.004 seconds.
􁁛  Test "Should format durations correctly" passed after 0.004 seconds.
􁁛  Test "Should generate error summary" passed after 0.004 seconds.
[CircuitBreaker] State transition to: open
[CircuitBreaker] Circuit opened after 3 failures
[CircuitBreaker] State transition to: open
[CircuitBreaker] State transition to: open
[CircuitBreaker] Circuit opened after 3 failures
[CircuitBreaker] Circuit opened after 3 failures
[CircuitBreaker] State transition to: open
[CircuitBreaker] Circuit opened after 3 failures
􁁛  Test "Should execute fallback strategy" passed after 0.005 seconds.
􁁛  Test "Should handle disabled metrics" passed after 0.004 seconds.
􁁛  Test "Should limit aggregated errors" passed after 0.005 seconds.
[CircuitBreaker] State transition to: open
[CircuitBreaker] Circuit opened after 3 failures
􁁛  Test "Should clear aggregated errors" passed after 0.005 seconds.
􁁛  Test "Should handle empty repository gracefully" passed after 0.004 seconds.
􁁛  Test "Should handle repository errors" passed after 0.004 seconds.
􁁛  Test "Should show 24 bars for each hour of the day" passed after 0.004 seconds.
􁁛  Test "AsyncFileSystemBridge should bridge file reading" passed after 0.004 seconds.
􁁛  Test "Should provide descriptive error messages" passed after 0.005 seconds.
􁁛  Test "AsyncFileSystemBridge should bridge directory listing" passed after 0.004 seconds.
􁁛  Test "AsyncFileSystemBridge should propagate errors" passed after 0.004 seconds.
􁁛  Test "Should handle zero cost" passed after 0.004 seconds.
􁁛  Test "AsyncFileSystem should throw error for invalid directory" passed after 0.004 seconds.
􁁛  Test "AsyncFileSystemBridge should bridge sync to async" passed after 0.005 seconds.
􁁛  Test "Should format midnight correctly" passed after 0.005 seconds.
􁁛  Test "Should format noon correctly" passed after 0.005 seconds.
􁁛  Test "AsyncFileSystem should check if file exists" passed after 0.005 seconds.
􁁛  Test "Should show hour range in tooltip" passed after 0.006 seconds.
􁁛  Test "AsyncFileSystem should read file contents" passed after 0.005 seconds.
􁁛  Test "Should track metadata correctly" passed after 0.006 seconds.
􁁛  Test "Should handle non-throwing operations" passed after 0.005 seconds.
􁁛  Test "Should open circuit after failure threshold" passed after 0.005 seconds.
􁁛  Test "Should pass through successful operations when circuit is closed" passed after 0.005 seconds.
􁁛  Test "Should handle directory operations through circuit breaker" passed after 0.005 seconds.
􁁛  Test "Should handle errors in recorded operations" passed after 0.006 seconds.
􁁛  Test "Should return empty stats when no data exists" passed after 0.002 seconds.
􁁛  Test "Should handle file system errors gracefully" passed after 0.002 seconds.
􁁛  Test "Should clear metrics" passed after 0.006 seconds.
􁁛  Suite "As a user, I want to see details when hovering over a bar" passed after 0.007 seconds.
􁁛  Test "Should export metrics as JSON" passed after 0.006 seconds.
􁁛  Test "Should handle concurrent operations correctly" passed after 0.005 seconds.
􁁛  Test "Should handle concurrent access safely" passed after 0.006 seconds.
􁁛  Test "Should limit stored metrics per operation" passed after 0.007 seconds.
􁁛  Test "Should show zero cost for hours with no usage" passed after 0.006 seconds.
􁁛  Test "Should handle very large costs" passed after 0.007 seconds.
􁁛  Test "Should track repository performance metrics" passed after 0.008 seconds.
􁁛  Suite "AsyncUsageRepository Performance Extension" passed after 0.008 seconds.
􁁛  Test "Should only include entries from the specified date" passed after 0.009 seconds.
􁁛  Test "Should fail after max retry attempts" passed after 0.010 seconds.
􁁛  Test "Should fail task after max retries" passed after 0.010 seconds.
􁁛  Test "Should retry task with exponential backoff" passed after 0.011 seconds.
􁁛  Test "Should load usage stats from async file system" passed after 0.006 seconds.
􁁛  Test "Should separate costs by hour boundaries" passed after 0.010 seconds.
􁁛  Test "Should identify peak usage hour" passed after 0.011 seconds.
􁁛  Test "Should handle midnight boundary correctly" passed after 0.011 seconds.
􁁛  Test "Should sum costs within the same hour" passed after 0.011 seconds.
􁁛  Test "Should record async operation metrics" passed after 0.011 seconds.
􁁛  Test "Should load entries for specific date" passed after 0.008 seconds.
􁁛  Test "Initial state should be correct" passed after 0.011 seconds.
􀟈  Test "Loading data updates state correctly" started.
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
􁁛  Test "Should handle concurrent file processing" passed after 0.009 seconds.
[UsageViewModel] Stats loaded: totalCost=100.0, entries=0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 100.0
[UsageViewModel] Number of daily entries: 0
􁁛  Test "Loading data updates state correctly" passed after 0.001 seconds.
􀟈  Test "Error handling displays message" started.
􁁛  Test "Should deduplicate entries correctly" passed after 0.008 seconds.
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
[UsageViewModel] Error loading data: fileNotFound(path: "/mock/path")
􁁛  Test "Should record sync operation metrics" passed after 0.013 seconds.
􁁛  Test "Error handling displays message" passed after 0.001 seconds.
􀟈  Test "Cost formatting" started.
􀟈  Passing 2 arguments cost → 0.0, expected → "$0.00" to "Cost formatting"
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
[UsageViewModel] Stats loaded: totalCost=0.0, entries=0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 0.0
[UsageViewModel] Number of daily entries: 0
􀟈  Passing 2 arguments cost → 1.0, expected → "$1.00" to "Cost formatting"
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
[UsageViewModel] Stats loaded: totalCost=1.0, entries=0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 1.0
[UsageViewModel] Number of daily entries: 0
􀟈  Passing 2 arguments cost → 10.5, expected → "$10.50" to "Cost formatting"
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
[UsageViewModel] Stats loaded: totalCost=10.5, entries=0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 10.5
[UsageViewModel] Number of daily entries: 0
􀟈  Passing 2 arguments cost → 100.0, expected → "$100.00" to "Cost formatting"
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
[UsageViewModel] Stats loaded: totalCost=100.0, entries=0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 100.0
[UsageViewModel] Number of daily entries: 0
􀟈  Passing 2 arguments cost → 1234.56, expected → "$1,234.56" to "Cost formatting"
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
[UsageViewModel] Stats loaded: totalCost=1234.56, entries=0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 1234.56
[UsageViewModel] Number of daily entries: 0
􀟈  Passing 2 arguments cost → 10000.0, expected → "$10,000.00" to "Cost formatting"
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
[UsageViewModel] Stats loaded: totalCost=10000.0, entries=0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 10000.0
[UsageViewModel] Number of daily entries: 0
􁁛  Test "Cost formatting" passed after 0.002 seconds.
􀟈  Test "Today's cost calculation" started.
􀟈  Passing 2 arguments todayCost → 50.0, expected → "$50.00" to "Today's cost calculation"
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
[UsageViewModel] Stats loaded: totalCost=1000.0, entries=1
[UsageViewModel] Today's cost updated: $50.00 (value: 50.0)
[UsageViewModel] Total stats cost: 1000.0
[UsageViewModel] Number of daily entries: 1
[UsageViewModel] Today's entry found: 2025-08-10 = $50.0
􀟈  Passing 2 arguments todayCost → 0.0, expected → "$0.00" to "Today's cost calculation"
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
[UsageViewModel] Stats loaded: totalCost=1000.0, entries=1
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 1000.0
[UsageViewModel] Number of daily entries: 1
[UsageViewModel] Today's entry found: 2025-08-10 = $0.0
􀟈  Passing 2 arguments todayCost → 123.45, expected → "$123.45" to "Today's cost calculation"
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
[UsageViewModel] Stats loaded: totalCost=1000.0, entries=1
[UsageViewModel] Today's cost updated: $123.45 (value: 123.45)
[UsageViewModel] Total stats cost: 1000.0
[UsageViewModel] Number of daily entries: 1
[UsageViewModel] Today's entry found: 2025-08-10 = $123.45
􁁛  Test "Today's cost calculation" passed after 0.001 seconds.
􀟈  Test "Auto-refresh starts and stops correctly" started.
[UsageViewModel] Day change monitoring started
[UsageViewModel] loadData() called at 2025-08-10 11:15:47 +0000
􁁛  Test "Should execute retry strategy" passed after 0.022 seconds.
􁁛  Suite "UsageRepositoryError Tests" passed after 0.022 seconds.
􁁛  Test "AsyncFileSystem should list directory contents" passed after 0.030 seconds.
􁁛  Suite "AsyncFileSystemProtocol Tests" passed after 0.030 seconds.
􁁛  Test "Should limit entries when specified" passed after 0.031 seconds.
Generated heatmap dataset in 0.050s
􁁛  Test "Should handle 365 days efficiently" passed after 0.055 seconds.
􁁛  Test "Should calculate statistics correctly" passed after 0.071 seconds.
Generated heatmap dataset in 0.087s
􁁛  Test "Should handle hover interactions smoothly" passed after 0.093 seconds.
􁁛  Suite "Heatmap performance requirements" passed after 0.094 seconds.
􁁛  Test "Should stream process large datasets efficiently" passed after 0.112 seconds.
􁁛  Suite "AsyncUsageRepository Tests" passed after 0.117 seconds.
Generated heatmap dataset in 0.109s
􁁛  Test "Should mark today's date correctly" passed after 0.116 seconds.
Generated heatmap dataset in 0.130s
Generated heatmap dataset in 0.149s
􁁛  Test "Should handle empty statistics gracefully" passed after 0.156 seconds.
Generated heatmap dataset in 0.168s
􁁛  Test "Should provide accessibility labels for days" passed after 0.175 seconds.
Generated heatmap dataset in 0.187s
􁁛  Test "Should update hovered day on mouse position" passed after 0.196 seconds.
[CircuitBreaker] State transition to: halfOpen
[CircuitBreaker] State transition to: halfOpen
[CircuitBreaker] State transition to: halfOpen
[CircuitBreaker] State transition to: closed
[CircuitBreaker] Circuit closed after successful recovery
[CircuitBreaker] State transition to: halfOpen
[CircuitBreaker] State transition to: closed
[CircuitBreaker] Circuit closed after successful recovery
􁁛  Test "Should transition to half-open after reset timeout" passed after 0.213 seconds.
􁁛  Test "Should track circuit breaker state" passed after 0.213 seconds.
􁁛  Test "Should handle circuit breaker reset timeout behavior" passed after 0.214 seconds.
􁁛  Test "Should close circuit after success threshold in half-open" passed after 0.214 seconds.
􁁛  Suite "AsyncCircuitBreakerFileSystem Tests" passed after 0.215 seconds.
Generated heatmap dataset in 0.208s
􁁛  Test "Should calculate tooltip position above hovered day" passed after 0.216 seconds.
Generated heatmap dataset in 0.227s
􁁛  Test "Should calculate summary statistics correctly" passed after 0.236 seconds.
Generated heatmap dataset in 0.247s
􁁛  Test "Should map costs to correct color intensities" passed after 0.256 seconds.
Generated heatmap dataset in 0.282s
􁁛  Test "Should generate 52-53 weeks of data for rolling year" passed after 0.292 seconds.
􁁛  Test "Should handle invalid date ranges" passed after 0.292 seconds.
Generated heatmap dataset in 0.320s
􁁛  Test "Should generate correct month labels for rolling year" passed after 0.329 seconds.
Generated heatmap dataset in 0.339s
􁁛  Test "Should clear hover state when ending hover" passed after 0.349 seconds.
Generated heatmap dataset in 0.375s
􁁛  Test "Should regenerate dataset when configuration changes" passed after 0.386 seconds.
[UsageViewModel] Stats loaded: totalCost=0.0, entries=0
􁁛  Test "Should show loading state during data generation" passed after 0.386 seconds.
􁁛  Suite "As a user, I want to see my yearly usage pattern as a heatmap" passed after 0.388 seconds.
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 0.0
[UsageViewModel] Number of daily entries: 0
􁁛  Test "Should process large datasets efficiently" passed after 0.397 seconds.
􁁛  Suite "As a user, I want to see my hourly costs so I can understand my usage patterns" passed after 0.397 seconds.
Generated heatmap dataset in 0.030s
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] Stats loaded: totalCost=0.0, entries=0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 0.0
[UsageViewModel] Number of daily entries: 0
􀢄  Test "Auto-refresh starts and stops correctly" recorded an issue at ModernUsageViewModelTests.swift:190:9: Expectation failed: (finalCount >= 3 → false) && (finalCount <= 4 → <not evaluated>)
􀄵  Expected 3-4 refresh calls, got 2
􀢄  Test "Auto-refresh starts and stops correctly" failed after 0.908 seconds with 1 issue.
􀟈  Test "Concurrent loads are handled safely" started.
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] Stats loaded: totalCost=50.0, entries=0
[UsageViewModel] Stats loaded: totalCost=50.0, entries=0
[UsageViewModel] Stats loaded: totalCost=50.0, entries=0
[UsageViewModel] Stats loaded: totalCost=50.0, entries=0
[UsageViewModel] Stats loaded: totalCost=50.0, entries=0
[UsageViewModel] Stats loaded: totalCost=50.0, entries=0
[UsageViewModel] Stats loaded: totalCost=50.0, entries=0
[UsageViewModel] Stats loaded: totalCost=50.0, entries=0
[UsageViewModel] Stats loaded: totalCost=50.0, entries=0
[UsageViewModel] Stats loaded: totalCost=50.0, entries=0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 50.0
[UsageViewModel] Number of daily entries: 0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 50.0
[UsageViewModel] Number of daily entries: 0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 50.0
[UsageViewModel] Number of daily entries: 0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 50.0
[UsageViewModel] Number of daily entries: 0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 50.0
[UsageViewModel] Number of daily entries: 0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 50.0
[UsageViewModel] Number of daily entries: 0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 50.0
[UsageViewModel] Number of daily entries: 0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 50.0
[UsageViewModel] Number of daily entries: 0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 50.0
[UsageViewModel] Number of daily entries: 0
[UsageViewModel] Today's cost updated: $0.00 (value: 0.0)
[UsageViewModel] Total stats cost: 50.0
[UsageViewModel] Number of daily entries: 0
􁁛  Test "Concurrent loads are handled safely" passed after 0.003 seconds.
􀟈  Test testLoadingPerformance() started.
[UsageViewModel] loadData() called at 2025-08-10 11:15:48 +0000
[UsageViewModel] Stats loaded: totalCost=18368.175448031423, entries=365
[UsageViewModel] Today's cost updated: $18.93 (value: 18.934853946793208)
[UsageViewModel] Total stats cost: 18368.175448031423
[UsageViewModel] Number of daily entries: 365
[UsageViewModel] Today's entry found: 2025-08-10 = $18.934853946793208
􁁛  Test testLoadingPerformance() passed after 0.010 seconds.
􀟈  Test testSessionMonitorIntegration() started.
􁁛  Test testSessionMonitorIntegration() passed after 0.001 seconds.
􀙟  Test testTimeSensitiveOperation() skipped: "Flaky due to timing"
􀢄  Suite "UsageViewModel Tests" failed after 0.940 seconds with 1 issue.
⚠️ [Performance] Slow operation 'SlowOp': 1.11s
􁁛  Test "Should generate performance report" passed after 1.107 seconds.
􁁛  Suite "PerformanceMetrics Tests" passed after 1.107 seconds.
􀢄  Test run with 95 tests failed after 1.108 seconds with 1 issue.
